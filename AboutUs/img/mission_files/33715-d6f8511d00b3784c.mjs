"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[33715],{13882:(e,t,i)=>{i.d(t,{Z:()=>n});function n(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}},983946:(e,t,i)=>{i.d(t,{Z:()=>n});function n(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}},619013:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(13882);function o(e){(0,n.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(Error().stack)),new Date(NaN))}},50165:(e,t,i)=>{i.d(t,{$:()=>u,r:()=>_});var n=i(667294),o=i(498490),a=i(989820),r=i(297728),s=i(730212),l=i(961754),d=i(785893);let{Provider:c,useHook:u}=(0,o.Z)("PinRep");function _({children:e}){let{isAuthenticated:t}=(0,s.B)(),{checkExperiment:i}=(0,r.F)(),{experience:o}=(0,a.Ow)(1000069),[u,_]=(0,n.useState)(!0),[h,p]=(0,n.useState)(!1),[m,g]=(0,n.useState)(!1),[b,f]=(0,n.useState)(null),[P,y]=(0,n.useState)(null),v=(0,a.oS)(1000069),{anyEnabled:x}=i("ap_bmi_custom_activation_nux_revamp_mweb_v2",{dangerouslySkipActivation:!0}),w=(0,l.Z)(t&&x?{name:"UserStateResource",options:{state:"QUICK_SAVES_BOARD_ID"}}:null).data;(0,n.useEffect)(()=>{if(!t){_(!1);return}o&&(!o||o?.experience_id===500417&&o?.display_data.hide_footer)?v.viewExperience(1000069,500417):_(!1),p(!0)},[o]);let A=(0,n.useMemo)(()=>({hasMetSaveRequirementOnUseCaseFeed:m,hasSimplifiedPinGridExpLoaded:h,hidePinRepFooter:u,quickSaveBoardId:w,setHasMetSaveRequirementOnUseCaseFeed:g,setUseCaseFeedOriginalPinId:y,setUseCaseFeedRepinId:f,useCaseFeedOriginalPinId:P,useCaseFeedRepinId:b}),[m,h,u,w,g,y,f,P,b]);return(0,d.jsx)(c,{value:A,children:e})}},481238:(e,t,i)=>{i.d(t,{Z:()=>n});function n(e){return e?"/pin-creation-tool/":"/idea-pin-builder/"}},453424:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(297728),o=i(410150),a=i(383399),r=i(501912),s=i(801621);function l(e){let t=(0,o.HG)(),{checkExperiment:i}=(0,n.F)(),l=(0,r.Z)(),d=(0,a.Z)(),c=(0,s.lJ)(d,l),u=!t||i("web_sce_organic_pinbuilder_dep").anyEnabled,_=!t||i("web_sce_monetized_pinbuilder_dep").anyEnabled,h=i("uid_sce_lightswitch_advertisers").anyEnabled;return!c&&((e&&(i("sce_lightswitch_organic"),i("sce_lightswitch_monetized")),t)?!!(u||_||h):u||_)}},919659:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(640498);function o(e){return e===n.ZP.BoardPrivacy.SECRET}},700198:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(667294),o=i(973935);function a(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class r extends n.Component{constructor(...e){super(...e),a(this,"observer",null),a(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){let e=o.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return n.Children.only(this.props.children)}}let s=r},993657:(e,t,i)=>{i.d(t,{Z:()=>u});var n=i(667294),o=i(883119),a=i(992951),r=i(272109),s=i(241716),l=i(785893);function d(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class c extends n.Component{constructor(...e){super(...e),d(this,"state",{visible:!1}),d(this,"setRef",e=>{this.element||(this.element=e,e?.addEventListener("dragover",this.handleDragOver),e?.addEventListener("dragleave",this.handleDragLeave))}),d(this,"handleDragOver",()=>{let{placement:e}=this.props;if(!this.scrollAnimationManager){let t="top"===e?-1:1;this.scrollAnimationManager=(0,a.Z)({window,duration:1/0,run:(e,i,n)=>{window.scrollTo(0,window.scrollY+(i<500?.8:1.2000000000000002)*t*n)}}),this.scrollAnimationManager.start()}}),d(this,"handleDragLeave",()=>{this.scrollAnimationManager&&this.scrollAnimationManager.cancel()}),d(this,"element",null),d(this,"visibleTimeout",null)}componentDidMount(){this.visibleTimeout=window.setTimeout(()=>this.setState({visible:!0}),500)}componentWillUnmount(){let e=this.element;e&&(e.removeEventListener("dragover",this.handleDragOver),e.removeEventListener("dragleave",this.handleDragLeave)),this.scrollAnimationManager&&this.scrollAnimationManager.cancel(),this.visibleTimeout&&window.clearTimeout(this.visibleTimeout)}render(){let{height:e,placement:t}=this.props,{visible:i}=this.state;return(0,l.jsx)(o.xu,{bottom:"bottom"===t,dangerouslySetInlineStyle:{__style:{zIndex:16777271,visibility:i?"visible":"hidden"}},height:e,left:!0,position:"fixed",right:!0,top:"top"===t,children:(0,l.jsx)("div",{ref:this.setRef,style:{width:"100%",height:"100%"}})})}}function u({noStickyHeader:e}){let t=e?0:s.hu;return(0,l.jsx)(r.Z,{children:(0,l.jsx)(o.mh,{children:(0,l.jsxs)(o.xu,{children:[(0,l.jsx)(c,{height:120+t,placement:"top"}),(0,l.jsx)(c,{height:120,placement:"bottom"})]})})})}},584359:(e,t,i)=>{i.d(t,{Z:()=>d,y:()=>s});var n=i(667294),o=i(60598),a=i(14890),r=i(785893);let s={Pin:"pin",Board:"board",Section:"section",CarouselItem:"carouselitem"};class l extends n.Component{render(){let{children:e,connectDragSource:t,connectDropTarget:i,isDragging:n,isDraggingInternal:o,isDropTargetOnly:a}=this.props,s=i((0,r.jsx)("div",{ref:e=>this.targetEl=e,style:{opacity:n||o?0:1},children:e}));return a?s:t(s)}}let d=(0,a.compose)((0,o.GR)(e=>e.type,{hover:({index:e,onDragHover:t},i,n)=>{t(e,function(e,t){let i=t.targetEl;if(!(i&&i instanceof HTMLElement))return null;let{x:n,y:o}=e.getClientOffset(),{left:a,right:r,top:s,bottom:l,width:d,height:c}=i.getBoundingClientRect();return{positionRelativeToCenter:{x:n-(a+r)/2,y:o-(s+l)/2},boundingBox:{width:d,height:c}}}(i,n))}},e=>({connectDropTarget:e.dropTarget()})),(0,o.Ej)(e=>e.type,{beginDrag:({index:e,onDragBegin:t})=>(t(e),{index:e}),endDrag:({onDragEnd:e},t)=>e(t.didDrop())},(e,t)=>({connectDragSource:e.dragSource(),isDraggingInternal:t.isDragging()})))(l)},291586:(e,t,i)=>{function n(e,t){return e.itemIndex===t.itemIndex&&e.regionWithinItem===t.regionWithinItem}function o({hoverRelativePosition:{positionRelativeToCenter:{x:e},boundingBox:{width:t}},centerEnabled:i}){return Math.abs(e)<(i?.5*t:0)/2?"center":e<0?"left":"right"}function a({hoverLocation:{itemIndex:e,regionWithinItem:t},sourceIndex:i}){if("center"===t||e===i)return e;let n="left"===t;return e<i===n?e:n?e-1:e+1}i.d(t,{Lz:()=>n,TI:()=>o,X3:()=>a})},65709:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(60598),o=i(14890),a=i(517159);let r=e=>t=>(0,o.compose)(a.Z,(0,n.GR)(e,{},(e,t)=>({connectDropTarget:e.dropTarget(),isDragWithinBounds:t.isOver()})))(t)},357013:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(590338),o=i(730212),a=i(785893);let r=({currency:e,maximumFractionDigits:t,minimumFractionDigits:i,shortform:r,shortformMaximumFractionDigits:s,formatStyle:l,uplimit:d,value:c})=>{let u=(0,n.Z)();return(0,a.jsx)(o.LC,{children:n=>u(n.locale||"en-US",c,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:i,shortform:r,shortform_maximum_fraction_digits:s,style:l,uplimit:d})})}},766546:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(667294);function o(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class a extends n.Component{constructor(...e){super(...e),o(this,"ref",(0,n.createRef)()),o(this,"observer",null),o(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}render(){return this.props.children(this.ref)}}let r=a},791773:(e,t,i)=>{i.d(t,{Z:()=>n});let n=(0,i(667294).createContext)(null)},288544:(e,t,i)=>{i.d(t,{Z:()=>N});var n=i(667294),o=i(983272),a=i(630118),r=i(845729),s=i(248750),l=i(353168),d=i(770975),c=i(2171),u=i(201930),_=i(920301),h=i(431771),p=i(142921),m=i(301567);let g=e=>{let t=performance.getEntriesByType("resource").filter(e=>e.name.includes("i.pinimg")).reduce((e,t)=>{let i=t.name.replace(".jpg","").split("/");return{[i[i.length-1]]:{downloadSize:t.name.split("/")[3].split("x")[0]},...e}},{});[...Array.from(document.getElementsByTagName("img")).map(e=>{let i=e.src.replace(".jpg","").split("/"),n=i[i.length-1];if(t[n]){let i=m.rZ(e)?.width||1,o=t[n].downloadSize;return{fileName:n,renderedSize:i,downloadedSize:o,ratio:o/i}}return{fileName:n,renderedSize:1,downloadedSize:1,ratio:1}}),...Array.from(document.querySelectorAll('div[role="img"]')).map(e=>{let i=e.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),n=i[i.length-1];if(t[n]&&e instanceof HTMLDivElement){let i=m.rZ(e)?.width||1,o=t[n].downloadSize;return{fileName:n,renderedSize:i,downloadedSize:o,ratio:o/i}}return{fileName:n,renderedSize:1,downloadedSize:1,ratio:1}})].forEach(t=>{let{ratio:i,fileName:n,downloadedSize:o}=t;t.ratio>1.05&&(0,s.A9)(`checkImageRatio.${e}`,{count:Math.round(10*i)/10,tags:{fileName:`${o}_${n}`}})})};var b=i(147921),f=i(671481),P=i(730212);let y=(e,t)=>{let i=(0,n.useRef)(t);return{getState:()=>i.current,dispatch:t=>{i.current=e(i.current,t)}}};var v=i(493651),x=i(415787),w=i(785893);let A=["initial_app_load","client_route_push"],C=(0,r.XV)("PwtSurface"),S="NavigationComplete",T="VisuallyComplete",I=(e,t,i,n)=>{let{metricConfig:{metricId:o,pwtStaticContext:a,annotateExperiments:r},annotations:s,binaryAnnotations:l,constraintMap:d,startTime:h,imageTimings:p,isSampled:m,spans:g,traceId:b}=e,f=(0,c.N)({reason:t,annotateExperiments:r,annotations:s,binaryAnnotations:l,constraintMap:d,endTime:i,imageTimings:p,metricId:o,pwtStaticContext:a,startTime:h,traceId:b,spans:g});m&&!n&&(0,_.Z)({metricId:o,pwtStaticContext:a,result:f}),(0,u.D9)()},j=(e,t,i)=>{let{metricConfig:{metricId:n,pwtStaticContext:o,annotateExperiments:r},annotations:d,binaryAnnotations:h,constraintMap:p,startTime:m,imageTimings:b,isSampled:f,spans:P,traceId:y}=e;(0,l.L8)(`PWT_Complete_${(0,a.KJ)(n)}`);let v=(0,c.W)({annotateExperiments:r,annotations:d,binaryAnnotations:h,constraintMap:p,endTime:t,imageTimings:b,metricId:n,pwtStaticContext:o,startTime:m,traceId:y,spans:P});f&&!i&&(0,_.Z)({metricId:n,pwtStaticContext:o,result:v});try{g(String(v.binaryAnnotationMap["metricId.surface"].value))}catch(e){(0,s.H)("image_ratio_check_error",{error:e})}return(0,u.D9)(),{...e,result:v,status:"DONE"}},z=(e,t)=>{if(e.metricConfig.constraints.every(t=>e.constraintMap[t])){let i=Math.max(...e.metricConfig.constraints.map(t=>e.constraintMap[t]));return j(e,i,t)}return C(`Remaining constraints: ${e.metricConfig.constraints.filter(t=>!e.constraintMap[t]).join(", ")}`),e},E=(e,t)=>{let{constraint:i,time:n,disablePWTLogging:o}=t,r=(0,a.KJ)(e.metricConfig.metricId);return f.Z?e.metricConfig.constraints.find(e=>e===i)?e.constraintMap[i]?(C(`constraint "${i}" is already complete.`),(0,s.H)("duplicated_constraint_complete",{constraint:i,action:r}),e):(C(`marking constraint "${i}" as complete`),(0,l.ZP)(`constraint_${i}_is_complete`),z({...e,constraintMap:{...e.constraintMap,[i]:n||f.Z.now()}},o)):(C(`marked constraint "${i}" is not a required constraint.`),e):((0,s.H)("missing_window_performance",{action:r}),e)},L=(e,t)=>{if(!f.Z){let t=(0,a.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}C(`removing constraint "${t}"`);let i=e.metricConfig.constraints.filter(e=>e!==t),{[t]:n,...o}=e.constraintMap;return z({...e,constraintMap:o,metricConfig:{...e.metricConfig,constraints:i}})},M=(e,t)=>{if(!f.Z){let t=(0,a.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}C(`updating pwt segment to "${t}"`);let i={...e.metricConfig.metricId,segment:t};return{...e,metricConfig:{...e.metricConfig,metricId:i}}},D=(e,t)=>{let{metricConfig:i,startTime:n,isSampled:o,disablePWTLogging:r}=t;if(r||"TIMING"!==e.status||n===e.startTime||I(e,"routeUpdatedOnSameSurface",f.Z?.now()||0,r),!i)return{status:"DISABLED",metricConfig:null};let l=(0,a.KJ)(i.metricId);return"TIMING"===e.status&&e.startTime===n&&e.constraintMap[S]?((0,s.H)("duplicated_init_route_action",{action:l}),e):(r||("Other"===i.pwtStaticContext.browserName&&!1===i.metricId.isAuthenticated&&"initial_app_load"===i.metricId.navigationType?((0,s.A9)(`TIMING.${l}`,{tags:{userAgent:window?.navigator?.userAgent}}),(0,s.A9)(`TIMING.sampled.${l}`,{tags:{userAgent:window?.navigator?.userAgent},sampleRate:.03})):((0,s.A9)(`TIMING.${l}`),(0,s.A9)(`TIMING.sampled.${l}`,{sampleRate:.03}))),E({traceId:(0,u.Vd)()||(0,u.ZP)("initial_app_load"===i.metricId.navigationType,i.pwtStaticContext.serverData?.trace_id),status:"TIMING",metricConfig:i,startTime:n,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:o,spans:[]},{constraint:S,disablePWTLogging:r}))},B=(e,t)=>{if(C("dispatch action",t),"INIT_ROUTE"===t.type)return D(e,t.payload);if("TIMING"!==e.status)return C(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":I(e,t.reason,f.Z?.now()||0);let i={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:i};case"ANNOTATE":let{name:n}=t.payload;if(!f.Z)return e;let o=f.Z.now();return C(`adding annotation {${n}: ${o}}`),{...e,annotations:{...e.annotations,[n]:o}};case"BINARY_ANNOTATE":let{name:r,value:l,annotationType:d}=t.payload;return C(`adding binary annotation {${r}: ${l}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[r]:{value:l,type:d}}};case"MARK_CONSTRAINT_COMPLETE":return E(e,t.payload);case"REMOVE_CONSTRAINT":return L(e,t.payload);case"SET_SEGMENT":return M(e,t.payload);case"SET_VISUALLY_COMPLETE_RESULT":{let{payload:{imageTimings:i}}=t;if(0===i.length)return I(e,"visuallyComplete_noImages",f.Z?.now()||0),{...e,status:"DONE",result:{type:"ABORT",reason:"visuallyComplete_noImages"}};let n=Math.max(...i.map(e=>e.responseEnd||0));return E({...e,imageTimings:i},{constraint:T,time:n})}case"ADD_SUBSPAN":let{startTime:c}=e,{payload:{name:u,startTime:_,endTime:h,annotations:p,binaryAnnotations:m,parentId:g}}=t;return{...e,spans:[...e.spans,{name:u,id:(0,b.Z)(),startTime:_||c,endTime:h,annotationMap:{...p},binaryAnnotationMap:{...m},parentId:g}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,b.Z)(),startTime:f.Z?f.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":let P=e.spans.findIndex(e=>e.name===t.payload.name);return P>-1?(e.spans[P].endTime=f.Z?f.Z.now():0,t.payload.annotations&&(e.spans[P].annotationMap={...e.spans[P].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[P].binaryAnnotationMap={...e.spans[P].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,s.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:let y=(0,a.KJ)(e.metricConfig.metricId);return(0,s.H)("invalid_pwt_surface_action",{action:y}),e}},Z=e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}},O=new Set,k=({surface:e,constraints:t,segment:i,measureGridVisuallyComplete:a,annotateExperiments:r,customEnabledNavigationTypes:s,navigationInfo:{clientNavigation:l,navigationType:d},sampleRate:c})=>{let u=(0,n.useRef)("NOT_SET"),_=(0,p.Z)(),{getState:h,dispatch:m}=y(B,{status:"DISABLED",metricConfig:null}),g=(0,P.B)();if(u.current!==l&&(u.current=l,_)){let{isAuthenticated:n}=_,o=e&&d&&(s||A).includes(d)?{metricId:{type:"surface",surface:e,navigationType:d,isAuthenticated:n,segment:i},annotateExperiments:r,constraints:[S,...t||[],...a?[T]:[]],pwtStaticContext:_}:null;(0,x.nP)("webapp.pwt_surface.init_route",{tags:{surface:e,navigationType:d,isAuthenticated:n}});let u=!O.has(l);m({type:"INIT_ROUTE",payload:{metricConfig:o,startTime:l?l.time:0,isSampled:!c||Math.random()<c,disablePWTLogging:!u}}),u&&O.add(l)}let b=h();if((0,n.useEffect)(()=>()=>{O.delete(l)},[l]),(0,n.useEffect)(()=>{let e=e=>{m({type:"ABORT",reason:e})};o.Z.onSessionPause(e);let t=window.innerHeight,i=window.innerWidth,n=()=>{let e=Math.abs(window.innerHeight-t),o=Math.abs(window.innerWidth-i),a=window.innerHeight!==t,r=window.innerWidth!==i,s={handler:(0,v.H)(),deviceType:_?.deviceType??"unknown",isAuthenticated:_?.isAuthenticated??"unknown",platform:g.userAgent.platform??"unknown"};if((0,x.nP)("webapp.PwtLogger.handleResize",{sampleRate:1,tags:{...s,heightChanged:a,widthChanged:r}}),a&&(0,x.S0)("webapp.PwtLogger.resizeHeightDelta",e,{sampleRate:1,tags:s}),r&&(0,x.S0)("webapp.PwtLogger.resizeWidthDelta",o,{sampleRate:1,tags:s}),window.removeEventListener("resize",n),_?.deviceType==="phone"&&(!r&&a&&e<=150||!a&&!r)||_?.deviceType==="desktop"&&!a&&!r){(0,x.nP)("webapp.PwtLogger.skipResizeAbort",{sampleRate:1,tags:{...s,heightChanged:a,widthChanged:r}});return}m({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",n),()=>{let t=h();C("handling unmount",t),"TIMING"===t.status&&I(t,"unmount",f.Z?.now()||0),o.Z.removePauseListener(e),window.removeEventListener("resize",n)}},[]),"TIMING"!==b.status||!b.constraintMap[S])return{state:b,context:null};let{startTime:w,metricConfig:j}=b;return{state:b,context:{abort:e=>m({type:"ABORT",reason:e}),addAnnotation:e=>m({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,i)=>m({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:i}}),addSubspan:(e,t,i,n={},o={},a=null)=>m({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:i,annotations:n,binaryAnnotations:o,parentId:a}}),getId:()=>w,getMetricId:()=>j.metricId,markConstraintComplete:e=>m({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:f.Z?f.Z.now():0}}),removeConstraint:e=>m({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>m({type:"SET_SEGMENT",payload:e}),setVisuallyCompleteResult:j.constraints.includes(T)?e=>m({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,startSubspan:(e,t={},i={},n=null)=>m({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:i,parentId:n}}),stopSubspan:(e,t={},i={},n=null)=>m({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:i,parentId:n}})}}},R=()=>{let e=(0,d.E)(),t=!!e;(0,n.useEffect)(()=>{if(t){let t=e?.getMetricId(),i=t?(0,a.KJ)(t):null;(0,s.H)("nested_pwt_surface",{action:i})}},[t])};function N({children:e,...t}){let i=(0,h.Z)(),n=Z(i),o=t.measureGridVisuallyComplete?["web_masonry_v2_auth","web_masonry_v2_unauth","web_fluid_grid_desktop_auth","web_fluid_grid_desktop_unauth"]:[],a=[...t.annotateExperiments??[],...o],{context:r}=k({...t,annotateExperiments:a,navigationInfo:{navigationType:n,clientNavigation:i}});return R(),(0,w.jsx)(d.S,{value:r,children:e})}},431771:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(667294),o=i(791773);function a(){return(0,n.useContext)(o.Z)}},98891:(e,t,i)=>{i.d(t,{Z:()=>n});function n(e,t,i){let n=[...e],o=n.splice(t,1)[0];return n.splice(i,0,o),n}},715824:(e,t,i)=>{i.d(t,{ZP:()=>o,mP:()=>n});let n="…";function o(e,t=80,i=n,a=!1){let r;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||a)r=e.substring(0,t);else{let i=e.lastIndexOf(" ",t);r=e.substring(0,i)}return(r=r.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+i}},509781:(e,t,i)=>{i.d(t,{Z:()=>y});var n=i(667294),o=i(883119),a=i(700198),r=i(136061),s=i(766546),l=i(297728),d=i(730212),c=i(655201),u=i(616949);let{Provider:_,useMaybeHook:h}=(0,i(498490).Z)("timeSpentContext");var p=i(603667),m=i(66560),g=i(785893);function b(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class f extends n.Component{constructor(e){super(e),b(this,"componentWillUnmount",()=>{this.unregisterComponent()}),b(this,"getContext",()=>{let{clientTrackingParams:e,component:t,element:i,objectId:n,timeSpentContext:o,view:a,viewParameter:r}=this.props;return{view:a||o?.view,viewParameter:r||o?.viewParameter,component:t||o?.component,element:i,objectId:n||o?.objectId,clientTrackingParams:e||o?.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),b(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),b(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){let t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0}),b(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),b(this,"getTimedPair",()=>this.state.timedPair),b(this,"setTimedPair",(e,t)=>{this.setState({timedPair:e},()=>{t&&t()})}),b(this,"isRegistered",!1),b(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),b(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),b(this,"handleVisibilityChange",e=>{let{intersectionRatio:t}=e[0],{bottom:i,left:n,right:o,top:a}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===i&&0===n&&0===o&&0===a?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new u.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,c.Z)(e.auxData,this.props.auxData)&&(0,c.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e,intersectionObserverExpEnabled:t,intersectionObserverBoxHeight:i}=this.props;return t?(0,g.jsx)(_,{value:this.getContext(),children:(0,g.jsx)(s.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:t=>(0,g.jsx)(o.xu,{ref:t,height:i??"100%",children:n.Children.only(e)})})}):(0,g.jsx)(_,{value:this.getContext(),children:(0,g.jsx)(a.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:n.Children.only(e)})})}}function P(e){let t;let i=(0,r.Hv)(),o=h(),a=(0,p.Z)(),s=(0,m.H0)(),{requestIdentifier:c="",isAuthenticated:u}=(0,d.B)(),_={app_instance_id:c.slice(0,8),...e.auxData??{}},{checkExperiment:b}=(0,l.F)();if(u)switch(e.view){case 42:t=b("web_intersection_observer_migration_timespent_inbox_auth").anyEnabled;break;case 675:t=b("web_intersection_observer_migration_timespent_closeup_media_viewer_auth").anyEnabled;break;default:t=b("web_intersection_observer_migration_timespent_auth").anyEnabled}else t=b("web_intersection_observer_migration_timespent_unauth").anyEnabled;return(0,n.useEffect)(()=>{a?.setHistoryStackContext(i)},[i,a]),(0,n.useEffect)(()=>{a?.setPins(s??{})},[s,a]),a?(0,g.jsx)(f,{...e,auxData:_,intersectionObserverExpEnabled:t,timeSpentContext:o,timeSpentManager:a,children:e.children}):e.children}P.displayName="TimeSpent";let y=P},622948:(e,t,i)=>{i.d(t,{a:()=>_,S:()=>c});var n=i(667294),o=i(498490),a=i(400416);let r={boardMap:{}};function s(e=r,t){if("BLOCKING_ACTIONS_UPDATED"===t.type){let{payload:{boardId:i,blockingActions:n}}=t,o=null,a=null,r={};return n.forEach(({section_id:e,progress:t,id:i,created_timestamp:n})=>{let s={id:i,createdAt:n,progress:t};e?"-1"===e?o=s:r[e]=s:a=s}),{...e,boardMap:{...e.boardMap,[i]:{wholeBoard:o,unorganized:a,sectionMap:r}}}}return e}var l=i(785893);let{Provider:d,useMaybeHook:c}=(0,o.Z)("BlockingAction");async function u(e){let t=await (0,a.Z)({url:`/v3/boards/${e}/`,data:{fields:["board.id","board.blocking_actions"]}});return new Promise((e,i)=>{let n=t&&t.resource_response&&t.resource_response.data&&t.resource_response.data.blocking_actions;if(!n){i(Error("No blocking actions found in the response"));return}e(n)})}function _({children:e}){let[t,i]=(0,n.useReducer)(s,r),o=(0,n.useCallback)(e=>u(e).then(t=>(i({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:t}}),t)),[]),a=(0,n.useMemo)(()=>({blockingActions:t,fetchBlockingActions:o}),[t,o]);return(0,l.jsx)(d,{value:a,children:e})}},446870:(e,t,i)=>{i.d(t,{Z:()=>f});var n=i(901450),o=i(622948),a=i(667294),r=i(883119),s=i(476198),l=i(144326),d=i(410150),c=i(785893);function u(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class _ extends a.Component{constructor(...e){super(...e),u(this,"state",{hiding:!1,visible:!1}),u(this,"handleHide",()=>{this.setState({hiding:!0}),this.timeout=window.setTimeout(this.props.onHide,s.Vg)}),u(this,"handleMouseEnter",()=>{window.clearTimeout(this.timeout)}),u(this,"handleMouseLeave",()=>{this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3)})}componentDidMount(){this.firstLine&&(window.setTimeout(()=>{this.setState({visible:!0})},100),this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3))}get firstLine(){let{actionType:e,actionStatus:t,location:{isSection:i}}=this.props,n="completed"===t;switch(e){case"create_section":return n?this.props.i18n._('Created section', 'toast text to indicate a section has been created successfully', 'toast text to indicate a section has been created successfully'):this.props.i18n._('Creating section', 'toast text to indicate a section is being created', 'toast text to indicate a section is being created');case"delete_pins":if(i)return n?this.props.i18n._('Deleted Pins from', 'toast text to notify Pins have been deleted from a section', 'toast text to notify Pins have been deleted from a section'):this.props.i18n._('Deleting Pins from', 'toast text to notify Pins are being deleted from a section', 'toast text to notify Pins are being deleted from a section');return n?this.props.i18n._('Deleted Pins from', 'toast text to notify Pins have been deleted from a board', 'toast text to notify Pins have been deleted from a board'):this.props.i18n._('Deleting Pins from', 'toast text to notify Pins are being deleted from a board', 'toast text to notify Pins are being deleted from a board');case"move_pins":if(i)return n?this.props.i18n._('Moved to', 'toast text to notify pins have been moved to this section', 'toast text to notify pins have been moved to this section'):this.props.i18n._('Moving to', 'toast text to notify pins are being moved to this section', 'toast text to notify pins are being moved to this section');return n?this.props.i18n._('Moved to', 'toast text to notify pins have been moved to this board', 'toast text to notify pins have been moved to this board'):this.props.i18n._('Moving to', 'toast text to notify pins are being moved to this board', 'toast text to notify pins are being moved to this board');case"merge":if(i)return n?this.props.i18n._('Moved to', 'toast text to notify anotehr section has been merged to this section', 'toast text to notify anotehr section has been merged to this section'):this.props.i18n._('Moving to', 'toast text to notify another section is being merged to this section', 'toast text to notify another section is being merged to this section');return n?this.props.i18n._('Moved to', 'toast text to notify another board has been merged to this board', 'toast text to notify another board has been merged to this board'):this.props.i18n._('Moving to', 'toast text to notify another board is being merged to this board', 'toast text to notify another board is being merged to this board');default:return null}}render(){let{actionStatus:e,deviceType:t,location:i}=this.props,{visible:n,hiding:o}=this.state,{firstLine:a}=this,{marginTop:l,opacity:d,position:u,pointerEvents:_,transform:h,transition:p,visibility:m}=(0,s.UZ)({deviceType:t,hiding:o,visible:n});if(!a)return null;let g="inProgress"===e?`${i.name}...`:i.name;return(0,c.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{transform:h,transition:p,visibility:m,pointerEvents:_}},marginTop:l,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,opacity:d,position:u,children:(0,c.jsx)(r.FN,{text:`${a}: ${g}`,type:"completed"===e?"default":"progress"})})}}function h(e){let t=(0,d.ZP)(),i=(0,l.ZP)();return(0,c.jsx)(_,{...e,deviceType:t,i18n:i})}let p=["merge","move_pins","create_section"],m=0,g={},b=(e,t,i,n)=>({hideToast:o})=>(0,c.jsx)(h,{actionStatus:e,actionType:t,duration:2e3,location:{name:n?n.title??"":i.name??"",isSection:!!n},onHide:o});function f(){let{showToast:e}=(0,n.F9)(),{fetchBlockingActions:t}=(0,o.S)()??{fetchBlockingActions:e=>new Promise(e=>e([]))};return{showBlockingActionToast:({actionType:i,board:n,section:o})=>{e(b("inProgress",i,n,o)),function({check:e,checkDelay:t,checkInterval:i,onComplete:n}){let o=`timeout${m}`;m+=1;let a=()=>{let t=Date.now();e().then(e=>{let r=Date.now()-t;e?(n(),delete g[o]):g[o]=setTimeout(a,Math.max(1e3,i-r))}).catch(()=>{delete g[o]})};g[o]=setTimeout(a,t)}({check:()=>t(n.id).then(e=>!function({blockingActions:e,actionType:t,boardId:i,sectionId:n}){return e.find(e=>(function(e){switch(e){case 22:return"delete_board";case 7172:case 7173:return"merge";case 900:case 7158:case 7109:return"delete_pins";case 901:case 7108:return"move_pins";case 7100:return"create_section";case 7102:return"delete_section";default:return null}})(e.action_type)===t&&!(p.includes(e.action_type)&&e.is_origin)&&e.board_id===i&&(n?n===e.section_id:!e.section_id||"-1"===e.section_id)&&1!==e.progress)}({blockingActions:e,actionType:i,boardId:n.id,sectionId:o&&o.id})),checkDelay:2e3,checkInterval:5e3,onComplete:()=>e(b("completed",i,n,o))})}}}},820495:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(667294),o=i(883119),a=i(282817),r=i(785893);let s={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};function l({children:e,forwardRef:t,position:i="static",shouldShowShadow:l=!1,top:d,style:c={}}){let{currentScrollPosition:u,isScrolled:_,setSubheaderShadow:h}=(0,a.W)();(0,n.useEffect)(()=>(l&&h("contentHeader"),()=>{l&&h(null)}),[l]);let p=!1;"pending"!==d&&(p=null!=d?u>=d:_);let m=(0,r.jsx)(o.xu,{ref:t,dangerouslySetInlineStyle:{__style:{position:i,...c,...p&&l&&{...s,zIndex:499}}},children:e});return"sticky"===i?(0,r.jsx)(o.Le,{top:0,children:m}):m}},452406:(e,t,i)=>{i.d(t,{Z:()=>T});var n=i(667294),o=i(545007),a=i(616550),r=i(883119),s=i(488792),l=i(989820),d=i(758339),c=i(144326),u=i(297728),_=i(410150),h=i(26456),p=i(451237),m=i(785893);function g({isOpen:e,onDismiss:t}){let i=(0,c.ZP)();return(0,m.jsx)(d.ZP,{accessibilityModalLabel:i._('Disabled Pin Publishing Error Message Modal', 'disabledPinCreationModal.modal.accessibilityLabel', 'Label for disabled pin creation modal'),isOpen:e,mobileAccessibilityCloseIconLabel:i._('Close disabled publishing message modal', 'disabledPinCreationModal.modal.closeIconLabel', 'Label for the close button on the disabled publishing modal'),onDismiss:t,type:"DisabledPublishingModal",children:(0,m.jsxs)(r.xu,{alignItems:"center",direction:"column",display:"flex",paddingX:6,paddingY:4,children:[(0,m.jsx)(r.X6,{children:i._('Oops...', 'disabledPinCreationModal.modal.heading', 'Exclamation used to show recognition of a mistake.')}),(0,m.jsx)(r.xu,{paddingY:3,children:(0,m.jsx)(r.xv,{children:i._('Our server is experiencing a mild case of the hiccups at the moment. Please try refreshing and publishing again later.', 'disabledPinCreationModal.modal.text', 'Message to let users know there is an error.')})}),(0,m.jsx)(r.xu,{paddingY:3,children:(0,m.jsx)(r.zx,{color:"red",onClick:()=>t(),size:"lg",text:i._('Dismiss', 'disabledPinCreationModal.button.dismiss', 'Button text for closing the disabled pin creation modal')})})]})})}function b(e){let t=(0,c.ZP)(),{viewType:i,boardId:n,handleTouch:o}=e,a=t._('Board', 'createMenuLinkButton.Create.Board.Label', 'label for creating a new board option'),s=t._('Section', 'createMenuLinkButton.Create.Section.Label', 'label for creating a new section option');return 5===i&&n?(0,m.jsx)(r.Tg,{href:`/board/${n}/create_section/`,onTap:o,rounding:2,children:(0,m.jsx)(r.xu,{"data-test-id":"addSectionButton",paddingY:2,children:(0,m.jsx)(r.X6,{size:"400",children:s})})}):(0,m.jsx)(r.Tg,{href:"/board/create/",onTap:o,children:(0,m.jsx)(r.xu,{"data-test-id":"createMenuCreateBoardButton",paddingY:2,children:(0,m.jsx)(r.X6,{size:"400",children:a})})})}var f=i(246826);function P({disabledPinCreation:e,handleDisablePublish:t,handleTouch:i}){let n=(0,c.ZP)(),o=(0,a.k6)(),s=e=>({imageBase64:e,description:"",imageUrl:"",method:f.Iv}),l=n._('Photo', 'createPinButton.Photo.Upload.Label', 'label to upload pin from camera roll photos');return(0,m.jsx)(r.iP,{onTap:()=>{if(e){t();return}i()},tapStyle:"none",children:(0,m.jsxs)(r.xu,{paddingY:2,position:"relative",children:[(0,m.jsx)(r.X6,{size:"400",children:l}),e?null:(0,m.jsx)("input",{accept:"image/*",id:"upload-pin",onChange:e=>{let t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=()=>{let e=t.result;o.push({pathname:`/pin/create/${f.Iv}/`,state:s(String(e))})}},style:{opacity:0,position:"absolute",top:"0px",height:"100%",width:"100%"},type:"file"})]})})}var y=i(947506),v=i(934648),x=i(799239);function w(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let A=new r.Ry(1),C=e=>{let t=window&&window.innerWidth||0,i=e._('Enter a link to create a Pin, https://...', 'placeholder in text field where a user inputs a URL to create a Pin', 'placeholder in text field where a user inputs a URL to create a Pin'),n=e._('Enter a link, https://...', 'placeholder in text field where a user inputs a URL to create a Pin - short version, 30 char limit', 'placeholder in text field where a user inputs a URL to create a Pin - short version, 30 char limit');return t<380?n:i};class S extends n.PureComponent{constructor(...e){super(...e),w(this,"state",{createPinFromLinkUrl:"",showCreateModal:!1,showInlineTextEditCreatePin:!1,showPublishingDisabledError:!1,urlValidationError:null}),w(this,"createPinFromLinkInput",(0,n.createRef)()),w(this,"createMenuPlusIconButtonRef",(0,n.createRef)()),w(this,"closeCreateModal",()=>{this.setState({showCreateModal:!1,showInlineTextEditCreatePin:!1}),this.props.updatePinBuilderInput({isInputOpen:!1,submittedLink:""})}),w(this,"clearValidationError",()=>{this.setState({urlValidationError:null})}),w(this,"openCreateModal",()=>{this.handleTouch(),this.props.requireAuthForLimitedLogin({fn:()=>this.setState({showCreateModal:!0}),modalHeader:(0,y.is)(this.props.i18n)})()}),w(this,"handleCreatePinFromLinkTouch",()=>{this.setState({showInlineTextEditCreatePin:!0}),this.props.updatePinBuilderInput({isInputOpen:!0})}),w(this,"handleDisablePublish",()=>{this.setState({showCreateModal:!1,showPublishingDisabledError:!0})}),w(this,"handleLinkFieldChange",({value:e})=>{this.setState({createPinFromLinkUrl:e})}),w(this,"handlePinFromLinkFormSubmit",(e,t)=>{let{createPinFromLinkUrl:i}=this.state,{experimentsClient:n}=this.props;e.preventDefault();let{errors:o}=(0,h.Jx)({message:this.props.i18n._('Oops! Please enter a valid URL.', 'URL validation error message on Pin builder form', 'URL validation error message on Pin builder form'),experimentsClient:n})(i),[a]=o;a?this.setState({urlValidationError:a}):this.handleUrlValidationSuccess(t)}),w(this,"handleTouch",()=>{let{logContextEvent:e,viewType:t,elementType:i}=this.props;e({view_type:t,view_parameter:3106,element:i,event_type:102,aux_data:{source:p.Z.PROFILE}})}),w(this,"handleUrlValidationSuccess",e=>{this.setState({showInlineTextEditCreatePin:!1});let{createPinFromLinkUrl:t}=this.state;this.props.updatePinBuilderInput({submittedLink:t}),e.push({pathname:"/pin-builder/",state:{createPinFromLinkUrl:t}}),this.closeCreateModal()}),w(this,"renderCreatePinFromLinkOption",()=>{let{disabledPinCreation:e,history:t}=this.props,{createPinFromLinkUrl:i,showInlineTextEditCreatePin:n}=this.state,o=this.props.i18n._('Website', 'editPin.CreatePinFromUrl.Label', 'label for option to create a pin from a url');return(0,m.jsx)(r.kC,{alignItems:"center",height:46,justifyContent:"start",children:n?(0,m.jsx)("form",{onSubmit:e=>this.handlePinFromLinkFormSubmit(e,t),style:{width:"100%"},children:(0,m.jsxs)(r.xu,{display:"flex",justifyContent:"between",position:"relative",zIndex:A,children:[(0,m.jsxs)(r.xu,{ref:this.createPinFromLinkInput,width:"100%",children:[this.renderErrorFlyout(),(0,m.jsx)(r.nv,{id:"create-pin-from-link",onChange:this.handleLinkFieldChange,onFocus:()=>this.setState({urlValidationError:null}),placeholder:C(this.props.i18n),size:"lg",value:i})]}),(0,m.jsx)(r.hU,{accessibilityLabel:this.props.i18n._('Create Pin from entered link', 'navigation button to confirm user will create a Pin from a link they entered', 'navigation button to confirm user will create a Pin from a link they entered'),icon:"arrow-forward",iconColor:"darkGray",onClick:({event:e})=>this.handlePinFromLinkFormSubmit(e,t),size:"lg"})]})}):(0,m.jsx)(r.iP,{onTap:()=>{if(e){this.handleDisablePublish();return}this.handleCreatePinFromLinkTouch()},tapStyle:"none",children:(0,m.jsx)(r.xu,{"data-test-id":"websiteButton",position:"relative",children:(0,m.jsx)(r.X6,{size:"400",children:o})})})})}),w(this,"renderErrorFlyout",()=>{let{urlValidationError:e}=this.state;return e&&(0,m.jsx)(r.J2,{anchor:this.createPinFromLinkInput.current,idealDirection:"up",onDismiss:this.clearValidationError,size:"sm",children:(0,m.jsx)(r.xu,{padding:3,width:"100%",children:(0,m.jsxs)(r.kC,{gap:2,children:[(0,m.jsx)(r.qb,{type:"problem"}),(0,m.jsx)(r.xv,{align:"center",weight:"bold",children:e})]})})})})}componentDidMount(){let{isInputOpen:e,submittedLink:t}=this.props;(e||t)&&this.setState({showCreateModal:!!e,showInlineTextEditCreatePin:!!e,createPinFromLinkUrl:t||""})}render(){let{bgColor:e,boardId:t,buttonPadding:i,disabledPinCreation:o,i18n:a,isDesktop:s,iconButtonColor:c="gray",iconButtonSize:u="xl",viewType:_}=this.props,{showCreateModal:h,showPublishingDisabledError:p}=this.state,f=this.props.i18n._('Add a Pin or board', 'heading in profile create modal', 'heading in profile create modal');164===_?f=this.props.i18n._('Add to section', 'heading in section create modal', 'heading in section create modal'):5===_&&(f=this.props.i18n._('Add a Pin or section', 'heading in profile create modal', 'heading in profile create modal')||a._('Add to board', 'heading in board create modal', 'heading in board create modal'));let y=4===_?this.props.i18n._('Add to profile', 'editPin.AddToProfile.Modal.Header', 'heading in profile create modal'):f,v=(5===_||164===_)&&this.createMenuPlusIconButtonRef.current;return(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,m.jsx)(r.xu,{"data-test-id":"createMenuCreateButton",children:(0,m.jsx)(r.hU,{ref:this.createMenuPlusIconButtonRef,accessibilityLabel:this.props.i18n._('Create a Pin or board', 'icon that opens model prompting user to create a new pin or board', 'icon that opens model prompting user to create a new pin or board'),bgColor:e,icon:"add",iconColor:c,onClick:this.openCreateModal,padding:"auto"!==i?i:1,size:u})})}),h&&(0,m.jsx)(d.ZP,{accessibilityModalLabel:"",heading:y,isOpen:this.state.showCreateModal,mobileAccessibilityCloseIconLabel:this.props.i18n._('close board and pin create modal', 'close modal that prompts user to create a new pin or board', 'close modal that prompts user to create a new pin or board'),onDismiss:this.closeCreateModal,type:"create_menu",children:(0,m.jsx)(r.xu,{padding:3,children:(0,m.jsxs)(r.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,m.jsxs)(n.Fragment,{children:[(0,m.jsxs)(r.xu,{paddingX:2,children:[(0,m.jsx)(r.xv,{children:this.props.i18n._('Create', 'editPin.Create.Section.Text', 'Section title to Create new things on Edit Pin add modal')}),(0,m.jsx)(n.Fragment,{children:this.renderCreatePinFromLinkOption()}),(0,m.jsx)(P,{disabledPinCreation:o,handleDisablePublish:this.handleDisablePublish,handleTouch:this.handleTouch})]}),164!==_&&(0,m.jsxs)(r.xu,{marginTop:6,paddingX:2,children:[(0,m.jsx)(r.xv,{children:this.props.i18n._('Add', 'editPin.Section.Add.Text', 'Section Add title on Edit Pin add modal')}),(0,m.jsx)(b,{boardId:t,handleTouch:()=>{this.handleTouch(),this.closeCreateModal()},viewType:_})]})]}),(0,m.jsx)(r.xu,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:7,children:(0,m.jsx)(r.zx,{onClick:()=>this.closeCreateModal(),size:"lg",text:this.props.i18n._('Close', 'editPin.Modal.Close.Button', 'Button text to close modal on EditPin')})})]})})}),p&&(0,m.jsx)(g,{isOpen:!0,onDismiss:()=>{this.setState({showPublishingDisabledError:!1})}}),v&&(0,m.jsx)(l.N,{anchors:{[s?3006:4006]:this.createMenuPlusIconButtonRef.current},idealDirection:"up",onAnchorTouch:"complete",placementId:s?18:1000251,scrollToDismiss:!0})]})}}function T(e){let t=(0,c.ZP)(),i=(0,_.HG)(),n=(0,u.F)(),{checkExperiment:r}=n,l=["disable_all","disable_web_pins"].includes(r("disable_pin_creation").group),d=(0,o.I0)(),h=(0,a.k6)(),{pinBuilder:p}=(0,o.v9)(e=>e.session),g=(0,s.Z)(),b=p&&p.isInputOpen,f=p&&p.submittedLink,P=(0,v.Z)();return(0,m.jsx)(S,{...e,disabledPinCreation:l,experimentsClient:n,history:h,i18n:t,isDesktop:i,isInputOpen:b,logContextEvent:g,requireAuthForLimitedLogin:P,submittedLink:f,updatePinBuilderInput:e=>d((0,x.p)(e))})}},224610:(e,t,i)=>{i.d(t,{HW:()=>r,YW:()=>u,i3:()=>_,o2:()=>c});var n=i(667294),o=i(498490),a=i(785893);let r=660,s={educationId:null,paddingRight:0,zIndex:660};function l(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":let{educationId:i}=t.payload;return{...e,educationId:i};case"FOOTER_SET_PADDING_RIGHT":let{paddingRight:n}=t.payload;return{...e,paddingRight:n};case"FOOTER_SET_Z_INDEX":let{zIndex:o}=t.payload;return{...e,zIndex:o};default:return e}}let{Provider:d,Consumer:c,useHook:u}=(0,o.Z)("footerContext");function _({children:e}){let[t,i]=(0,n.useReducer)(l,s),o=(0,n.useCallback)(e=>i({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}}),[]),r=(0,n.useCallback)(e=>i({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}}),[]),c=(0,n.useCallback)(e=>i({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}}),[]),u=(0,n.useMemo)(()=>({...t,setEducationId:r,setPaddingRight:o,setZIndex:c}),[t,r,o,c]);return(0,a.jsx)(d,{value:u,children:e})}},343931:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(883119),o=i(144326),a=i(785893);let r=({isInModal:e})=>{let t=(0,o.ZP)();return(0,a.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new n.Ry(1),children:(0,a.jsx)(n.$j,{accessibilityLabel:t._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},282817:(e,t,i)=>{i.d(t,{H:()=>d,W:()=>l});var n=i(667294),o=i(498490),a=i(235838),r=i(785893);let{Provider:s,useHook:l}=(0,o.Z)("HeaderShadow");function d({children:e}){let[t,i]=(0,n.useState)(!1),[o,l]=(0,n.useState)(!1),[d,c]=(0,n.useState)(0),[u,_]=(0,n.useState)(null),h=(0,a.Z)(()=>{t&&(l(window.scrollY>0),c(window.scrollY))},50);return(0,n.useEffect)(()=>(i(!0),()=>{i(!1)}),[]),(0,n.useEffect)(()=>(window.addEventListener("scroll",h),()=>{window.removeEventListener("scroll",h)}),[t]),(0,r.jsx)(s,{value:{currentScrollPosition:d,isScrolled:o,setSubheaderShadow:_,subheaderShadow:u},children:e})}},49985:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(667294),o=i(488792),a=i(1006);let r=e=>Object.keys(e).reduce((t,i)=>(void 0===e[i]&&delete t[i],t),{...e}),s=({viewType:e,viewParameter:t,viewData:i,auxData:n,objectIdStr:o,component:s,clientTrackingParams:l,element:d},c)=>{let u=r({event_type:13,view_type:e,view_parameter:t,view_data:i,aux_data:n,object_id_str:o,component:s,clientTrackingParams:l,element:d});-1===Object.keys(u).indexOf("view_type")&&(0,a.My)("mweb.logging.null_view_type"),c(u)};function l(e){let{auxData:t,clientTrackingParams:i,children:a,component:r,element:l,objectIdStr:d,viewData:c,viewParameter:u,viewType:_}=e,h=(0,o.Z)(),p=JSON.stringify(t),m=JSON.stringify(c);return(0,n.useEffect)(()=>{s(e,h)},[h,p,i,r,l,d,m,u,_]),n.Children.only(a)}},265899:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(883119),o=i(785893);function a(e){let{accessibilityLabel:t,bgColor:i,icon:a,iconColor:r,onClick:s,selected:l,size:d,tooltip:c}=e;return(0,o.jsx)(n.hU,{accessibilityLabel:t,bgColor:i??"transparent",icon:a,iconColor:r??"darkGray",onClick:s,selected:l,size:d??"lg",tooltip:c?{text:c}:void 0})}},797242:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(667294),o=i(883119),a=i(265899),r=i(785893);function s({bgColor:e,children:t,label:i,icon:s,iconColor:l,id:d,size:c,tooltip:u}){let _=(0,n.useRef)(null),[h,p]=(0,n.useState)(!1),m=()=>p(!1);return(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(o.xu,{ref:_,"data-test-id":d,children:(0,r.jsx)(a.Z,{accessibilityLabel:i,bgColor:e,icon:s,iconColor:l,onClick:()=>p(!h),selected:h,size:c,tooltip:u})}),h&&(0,r.jsx)(o.Lt,{anchor:_.current,disableMobileUI:!0,id:"actionBarMenuButton",idealDirection:"down",onDismiss:m,zIndex:new o.Ry(1e3),children:t({handleClose:m})})]})}},246826:(e,t,i)=>{i.d(t,{Iv:()=>n,dU:()=>_,it:()=>r,jI:()=>u,n0:()=>l,nY:()=>a,sW:()=>c,up:()=>o});let n="uploaded",o="pinbuilder",a="scraped",r="button";function s(e){return!!e&&"object"==typeof e&&"method"in e}function l(e){return s(e)&&e.method===a}function d(e){return s(e)&&e.method===n}function c(e){return s(e)&&e.method===r}function u(e){return l(e)||d(e)||c(e)}function _({boardId:e,checkExperiment:t,createPin:i,sectionId:n,state:o}){let a=[];if(l(o)){let{imgData:r}=o;r.forEach(r=>{a.push(i(function({boardId:e,checkExperiment:t,image:i,sectionId:n,state:o}){let{description:a,link:r,method:s}=o;return{boardId:e,checkExperiment:t,description:a,guid:"",imageBase64:"",imageUrl:i,link:r,method:s,sectionId:n}}({boardId:e,checkExperiment:t,image:r,sectionId:n,state:o})))})}else a.push(i(function({boardId:e,checkExperiment:t,sectionId:i,state:n}){if(d(n)){let{description:o,imageBase64:a,imageUrl:r,method:s}=n;return{boardId:e,checkExperiment:t,description:o,guid:"",imageBase64:a,imageUrl:r,link:"",method:s,sectionId:i}}{let{description:o,guid:a,imageUrl:r,link:s,method:l}=n;return{boardId:e,checkExperiment:t,description:o,guid:a,imageUrl:r,link:s,method:l,sectionId:i}}}({boardId:e,checkExperiment:t,sectionId:n,state:o})));return a}},217649:(e,t,i)=>{i.d(t,{CC:()=>c,H$:()=>_,Mt:()=>l,dp:()=>u,p9:()=>h});var n=i(609326),o=i(192820),a=i(640498),r=i(864723),s=i(166408);let l=({key:e,lastVisitedPage:t,imageSignature:i,pinId:n,imageInfo:o,pinDescription:s,pinInviteCode:l})=>{let d=(0,r.M0)().getItem(e)??[];if(!d[0]||d[0].path!==t){let d=[{path:t,ts:Date.now(),pin_id:n||0,first_pin_image_signature:i||"",first_pin_id:n||"",image_info:o||"",pin_description:s||"",is_shared:!!l,pin_invite_code:l}];(0,r.M0)().prependItem(e,d,a.LG)}},d=()=>{let e;let t=(0,s.Nl)().getItem(o.N_);if(!t)return[];try{e=JSON.parse(t)}catch(t){e=[]}return e},c=({path:e,image:t,dominant_color:i,pin_description:n,pin_id:a})=>{let r=d();r[0]&&r[0].path===e||(0,s.Nl)().setItem(o.N_,[{path:e,image:t,pin_description:n??"",dominant_color:i||"",pin_id:a||""}].concat(r))};function u(e,t,i,o,a,r){l({key:n.uc,lastVisitedPage:e,imageSignature:t,pinId:i,imageInfo:o,pinDescription:a,pinInviteCode:r})}let _=(e,t,i,o,a)=>{l({key:n.hI,lastVisitedPage:e,imageSignature:t,pinId:i,imageInfo:o,pinDescription:a??""})};function h(e,t,i,o,a){l({key:n.tH,lastVisitedPage:e,imageSignature:t,pinId:i,imageInfo:o,pinDescription:a??""})}},947506:(e,t,i)=>{i.d(t,{Bb:()=>m,Bx:()=>s,F4:()=>r,Qj:()=>l,_6:()=>p,gv:()=>a,hg:()=>d,is:()=>_,jP:()=>h,lt:()=>o,oM:()=>c,wI:()=>u});var n=i(868808);let o=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),a=({firstName:e,i18n:t})=>e?(t._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):t._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),r=e=>{let t=(0,n.mB)(e.search).board_url;if(t){let e=(0,n.Jx)(t),i=(0,n.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${i}`:`${e}?${i}`}return e.pathname},s=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),l=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},d=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),c=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),u=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},_=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),h=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),p=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),m=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},698767:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(730212),o=i(163059);function a(){let{countryFromIp:e}=(0,n.B)();return{isEUBasedIp:!!e&&!!o.a0?.dsa?.COUNTRY_CODES?.includes(e),isIndiaIp:!!e&&!!o.a0?.india?.COUNTRY_CODES?.includes(e)}}},34626:(e,t,i)=>{i.d(t,{Fj:()=>l,JI:()=>d,aG:()=>s});var n=i(667294),o=i(785893);let a=(0,n.createContext)(),r=(0,n.createContext)();function s({children:e}){let[t,i]=(0,n.useState)(!1);return(0,o.jsx)(a.Provider,{value:t,children:(0,o.jsx)(r.Provider,{value:i,children:e})})}function l(){let e=(0,n.useContext)(a);if(void 0===e)throw Error("useCountState must be used within a ShowBoardlessPinsContextProvider");return e}function d(){let e=(0,n.useContext)(r);if(void 0===e)throw Error("useCountUpdater must be used within a ShowBoardlessPinsContextProvider");return e}},880560:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(468808);function o(e,t,i){return(0,n.U)("BoardResource",{options:{board_id:e,field_set_key:t,...i?{orbac_subject_id:i}:{}}})}},682185:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(400416),o=i(880560),a=i(119437),r=i(701842),s=i(403764);function l(e,t,i){return l=>(0,n.Z)({url:`/v3/boards/${e}/merge/${t}/`,method:"POST",data:i?{orbac_subject_id:i}:{}}).then(()=>Promise.all([l((0,a.eo)({boardId:e})),l((0,o.Z)(t,"pin_count")),l((0,r.N8)(s.Z.BOARD_SECTIONS,t))]))}},799239:(e,t,i)=>{i.d(t,{F:()=>n,p:()=>o});let n=e=>({type:"PIN_BUILDER_LOADED_IMAGES",payload:e}),o=e=>({type:"UPDATE_PIN_BUILDER_INPUT",payload:e})},593076:(e,t,i)=>{i.d(t,{Z:()=>f});var n=i(667294),o=i(883119),a=i(573706),r=i(144326),s=i(810867),l=i(785893);function d({anchor:e,hideAddSectionTooltip:t}){let i=(0,r.ZP)();return(0,l.jsx)(o.mh,{children:(0,l.jsx)(o.xu,{position:"absolute",top:!0,zIndex:s.bW,children:(0,l.jsx)(o.Li,{anchor:e,idealDirection:"down",message:i._('Tap + to add a section any time', 'boardActionsButton.addIconButton.addSectionFlyout', 'Flyout to point out where you can find add section'),onDismiss:t})})})}var c=i(453424),u=i(203743);function _({anchor:e,idealDirection:t,onAddOrEditDate:i,onAddSection:a,onClose:s,onCreateBoard:d,onCreatePin:_,onCreateStoryPin:h,surface:p,isWithinFixedContainer:m}){let g=(0,r.ZP)(),b=(0,c.Z)(!0),f=(0,n.useMemo)(()=>({pin:g._('Pin', 'BoardActionsButton.LegoFlyout.Pin', 'Option to create a pin'),rename:g._('Idea Pin', 'BoardActionsButton.LegoFlyout.IdeaPin', 'Option to create a Idea Pin'),board:g._('Board', 'profileHeader.actionBar.board', 'Option to create a board'),section:g._('Section', 'BoardActionsButton.LegoFlyout.Section', 'Option to create a board section'),date:g._('Date', 'BoardActionsButton.LegoFlyout.Date', 'Option to add a date to a board'),todos:g._('To-dos', 'BoardActionsButton.LegoFlyout.Note', 'Option to create a board note'),new:g._('New', 'BoardActionsButton.LegoFlyout.New', 'New option indicator')}),[g]);return(0,l.jsxs)(o.Lt,{anchor:e,id:"board_actions",idealDirection:t||"down",isWithinFixedContainer:m,onDismiss:s,zIndex:u.PJ,children:[(0,l.jsx)(o.Lt.Section,{label:g._('Create', 'BoardActionsButton.LegoFlyout.Create', 'Label for a list of options to create a pin or a section'),children:[!b&&(0,l.jsx)(o.Lt.Item,{dataTestId:"Create Pin",onSelect:()=>{_(),s()},option:{label:f.pin,value:f.pin}},"actions-create-0"),h&&(0,l.jsx)(o.Lt.Item,{dataTestId:"Create Story Pin",onSelect:()=>{h(),s()},option:{label:b?f.pin:f.rename,value:b?f.pin:f.rename}},"actions-create-1"),"profileBoards"===p&&d&&(0,l.jsx)(o.Lt.Item,{dataTestId:"Create board",onSelect:()=>{d(),s()},option:{label:f.board,value:f.board}},"actions-create-2")].filter(Boolean)}),"board"===p&&(0,l.jsx)(o.Lt.Section,{label:g._('Add', 'BoardActionsButton.LegoFlyout.Add', 'Label for a list of options to add board sections or a board date'),children:[a&&(0,l.jsx)(o.Lt.Item,{dataTestId:"addSection",onSelect:()=>{a(),s()},option:{label:f.section,value:f.section}},"actions-add-1"),!!i&&(0,l.jsx)(o.Lt.Item,{onSelect:()=>{i(),s()},option:{label:f.date,value:f.date}},"actions-add-2")].filter(Boolean)})]})}var h=i(989820),p=i(34626);function m({anchor:e}){let t=(0,p.JI)();return(0,l.jsx)(o.mh,{children:(0,l.jsx)(o.xu,{position:"absolute",top:!0,zIndex:s.bW,children:(0,l.jsx)(h.Qp,{anchor:e,experienceIds:[503447],flyoutSize:"md",idealDirection:"down",onClickComplete:()=>{t(!0)},placementId:19,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center",textWeight:"normal"})})})}function g({anchor:e}){return(0,l.jsx)(o.mh,{children:(0,l.jsx)(o.xu,{position:"absolute",top:!0,zIndex:s.bW,children:(0,l.jsx)(h.Qp,{anchor:e,experienceIds:[502096],idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0})})})}var b=i(502629);function f({children:e,idealDirection:t,onAddOrEditDate:i,onAddSection:s,onCreateBoard:c,onCreatePin:u,onCreateStoryPin:h,onOpen:p=()=>{},surface:f,isWithinFixedContainer:P}){let y;let v=(0,r.ZP)(),{showCreateSectionTooltip:x,setShowCreateSectionTooltip:w}=(0,b.L)()??{},{logContextEvent:A}=(0,a.v)(),C=()=>w(!1),S=(0,n.useRef)(),[T,I]=(0,n.useState)(!1),j=()=>{p(),x&&C(),I(!0),A({component:13056,element:1208,event_type:101,view_parameter:3106,view_type:4})},z=()=>I(!1),E=()=>{T?z():j()},L={board:v._('Board Actions', 'button that allows user view actions on a board such as add section, create pin, create pincode, and create widget', 'button that allows user view actions on a board such as add section, create pin, create pincode, and create widget'),profileBoards:v._('Profile Actions', 'profileHeader.actionBar.createButton', 'Button on user\'s profile to open flyout with options to create a pin or a board'),profilePins:v._('Profile Actions', 'profileHeader.actionBar.createButton', 'Button on user\'s profile to open flyout with options to create a pin or a board'),section:v._('Create Pin', 'Button to begin pin creation flow', 'Button to begin pin creation flow')},M=e&&e({active:T,openFlyout:E})||(0,l.jsx)(o.hU,{accessibilityLabel:L[f],icon:"add",iconColor:"gray",onClick:"section"===f?u:E,size:"lg"});return!T&&"board"===f&&(x?y="addSectionTooltip":i&&(y="planningActionsExperience")),T||"profileBoards"!==f||(y="createBoardTooltip"),(0,l.jsxs)(o.xu,{"data-test-id":"boardActionsButton",children:[(0,l.jsx)(o.xu,{ref:S,children:M}),T&&(0,l.jsx)(_,{anchor:S.current,idealDirection:t,isWithinFixedContainer:!!P,onAddOrEditDate:i,onAddSection:s,onClose:z,onCreateBoard:c,onCreatePin:u,onCreateStoryPin:h,surface:f}),"addSectionTooltip"===y&&(0,l.jsx)(d,{anchor:S.current,hideAddSectionTooltip:C}),"planningActionsExperience"===y&&(0,l.jsx)(g,{anchor:S.current}),"createBoardTooltip"===y&&(0,l.jsx)(m,{anchor:S.current})]})}},502629:(e,t,i)=>{i.d(t,{L:()=>s,M:()=>l});var n=i(667294),o=i(498490),a=i(785893);let{Provider:r,useMaybeHook:s}=(0,o.Z)("CreateSectionTooltip");function l({children:e}){let[t,i]=(0,n.useState)(!1),o=(0,n.useMemo)(()=>({showCreateSectionTooltip:t,setShowCreateSectionTooltip:i}),[t]);return(0,a.jsx)(r,{value:o,children:e})}},516228:(e,t,i)=>{i.d(t,{Z:()=>n});function n({boardDensity:e,component:t,viewType:i,viewParameter:n},o){let a=function({boardDensity:e,viewType:t}){switch(t){case 164:return"regular"===e?10618:10619;case 5:case 4:return"regular"===e?10607:10608;default:return 10607}}({boardDensity:e,viewType:i}),r=n??4===i?3106:3069;o({event_type:101,component:t,element:a,...i?{view_type:i,view_parameter:r}:Object.freeze({})})}},695356:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(252071);function o({density:e,surface:t}){n.Z.create("UserMetadataResource","board"===t?{profile_pin_rep_view_type:e}:{board_pin_rep_view_type:e}).callUpdate()}},810867:(e,t,i)=>{i.d(t,{Ev:()=>a,IK:()=>o,Jk:()=>l,Oj:()=>r,bW:()=>s});var n=i(883119);let o=1,a=1,r=2,s=new n.Ry(5e3),l=15},613756:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(667294),o=i(883119),a=i(602185),r=i(144326),s=i(750077),l=i(785893);let d=(0,n.lazy)(()=>Promise.all([i.e(36075),i.e(36060),i.e(61116)]).then(i.bind(i,126317)));function c(e){let t=(0,r.ZP)();return(0,l.jsx)(a.Z,{name:"SafeSuspense_SendObjectLoader_SendObjectWrapper",children:(0,l.jsx)(s.Z,{fallback:(0,l.jsx)(o.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:2,width:"100%",children:(0,l.jsx)(o.$j,{accessibilityLabel:t._('Loading sharing', 'Accessibility label for loading sharing UI', 'Accessibility label for loading sharing UI'),show:!0})}),children:(0,l.jsx)(d,{...e})})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/33715-d6f8511d00b3784c.mjs.map