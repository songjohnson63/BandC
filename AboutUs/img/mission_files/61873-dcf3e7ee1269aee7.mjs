"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[61873],{972410:(e,a,i)=>{var t,n,l;i.r(a),i.d(a,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CollageChips_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinTagChipImagesPerSpec",kind:"LinkedField",name:"pinTagsChips",plural:!0,selections:[{alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CollectionPin",kind:"LinkedField",name:"collectionPin",plural:!1,selections:[{alias:null,args:null,concreteType:"CollectionPinItem",kind:"LinkedField",name:"itemData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:[n,l,t],storageKey:'images(spec:"750x")'}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupLink_pin"},{alias:null,args:null,kind:"ScalarField",name:"dpaCreativeType",storageKey:null}],type:"Pin",abstractKey:null};r.hash="c167093f5b3fc6181bc8b26792c3248c";let s=r},860575:(e,a,i)=>{i.d(a,{Xx:()=>l});var t=i(667294);i(785893),(0,t.createContext)(void 0),i(573706);let n=(0,t.createContext)(void 0),l=()=>(0,t.useContext)(n)},675876:(e,a,i)=>{i.d(a,{Z:()=>u}),i(167912);var t,n=i(883119),l=i(47848),r=i(297728),s=i(363954),o=i(785893);let d={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}},c=void 0!==t?t:t=i(972410);function u({pinKey:e,enableCloseupLink:a}){let i=(0,l.Z)(c,e),{checkExperiment:t}=(0,r.F)(),{anyEnabled:u}=t("aid_web_collection_pin_data"),{aggregatedPinData:g,collectionPin:p,dpaCreativeType:m}=i,{pinTagsChips:y}=g||{},{itemData:v}=p||{},x=y&&y.length>=3?y.slice(0,3):[],h=v&&v.length>=3?v.slice(0,3):[];return u&&!m?(0,o.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:d.chipContainer},display:"flex",children:h.map(e=>{let t=e.images||{},l=(0,o.jsx)(n.Ee,{alt:"",fit:"cover",naturalHeight:t.height??1,naturalWidth:t.width??1,role:"presentation",src:t.url??""});return(0,o.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:d.chip},"data-test-id":"collageChip",children:(0,o.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:d.chipInner},position:"relative",children:(0,o.jsx)(n.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,o.jsx)(n.zd,{height:"100%",wash:!0,width:"100%",children:a?(0,o.jsx)(s.Z,{collageChipId:e.pinId??"",pinKey:i,sizing:"fullSize",children:l}):l})})})},e.pinId)})}):(0,o.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:d.chipContainer},display:"flex",children:x.map(e=>{let t=e.image||{},l=(0,o.jsx)(n.Ee,{alt:"",fit:"cover",naturalHeight:t.height??1,naturalWidth:t.width??1,role:"presentation",src:t.url??""});return(0,o.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:d.chip},"data-test-id":"collageChip",children:(0,o.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:d.chipInner},position:"relative",children:(0,o.jsx)(n.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,o.jsx)(n.zd,{height:"100%",wash:!0,width:"100%",children:a?(0,o.jsx)(s.Z,{collageChipId:e.entityId??"",pinKey:i,sizing:"fullSize",children:l}):l})})})},e.entityId)})})}},821892:(e,a,i)=>{i.d(a,{B:()=>t,E:()=>n});let{Provider:t,useHook:n}=(0,i(498490).Z)("trackingParametersContext")},87416:(e,a,i)=>{i.d(a,{Cy:()=>d,HE:()=>c,Mv:()=>l,PR:()=>m,Y4:()=>u,dL:()=>n,fS:()=>g,fv:()=>s,lu:()=>p,qS:()=>o,uc:()=>r});var t=i(788388);let n=e=>{let a=(0,t.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,duploShouldTrackPinEvents:e.duploShouldTrackPinEvents,loggingId:e.loggingId,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Pin",isPaused:e.isPaused,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},l=e=>{let a=(0,t.Z)({impressionAuxFields:{newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},contextLogData:e.auxData||{},impressionType:"Notification",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:a})},r=e=>{let a=(0,t.Z)({impressionAuxFields:{newsType:e.newsType},contextLogData:e.auxData||{},impressionType:"NotificationFeed",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:a})},s=e=>{let a=(0,t.Z)({impressionAuxFields:{...e.impressionData||{}},contextLogData:e.auxData||{},componentType:e.component,isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,impressionType:"Article"});return e.children({impressionTrackerRef:a})},o=e=>{let a=(0,t.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Story",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},d=e=>{let a=(0,t.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"User",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},c=e=>{let a=(0,t.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Interest",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},u=e=>{let a=(0,t.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"TodayArticle",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},g=e=>{let a=(0,t.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Board",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:a})},p=e=>{let a=(0,t.Z)({carouselData:e.carouselData,impressionType:"Pin",loggingId:e.loggingId,slotIndex:e.slotIndex??0,trackCarousel:!0,viewParameter:e.viewParameter||72,viewType:e.viewType||1,isPaused:e.isPaused,contextLogData:e.contextLogData,componentType:e.component,impressionAuxFields:e.impressionAuxFields});return e.children({impressionTrackerRef:a})},m=e=>{let a=(0,t.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"CuratedBoard",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})}},845873:(e,a,i)=>{i.d(a,{bn:()=>s,fJ:()=>d,gC:()=>o});var t=i(545007),n=i(498490),l=i(785893);let{Provider:r,useHook:s}=(0,n.Z)("Boards");function o(){let e=s();return a=>e[a]}function d({children:e}){let a=(0,t.v9)(({boards:e})=>e,t.wU);return(0,l.jsx)(r,{value:a,children:e})}},193836:(e,a,i)=>{i.d(a,{_l:()=>I,cO:()=>h,t2:()=>w,w2:()=>P,xM:()=>x});var t=i(667294),n=i(616550),l=i(252071),r=i(282999),s=i(868808),o=i(410150),d=i(383399),c=i(785893);let u="UnauthDesktopSocialPinLandingPageContext",g="AthDesktopSocialPinLandingPageContext",p="AuthMobileSocialPinLandingPageContext",m=(0,t.createContext)(),y=({children:e})=>{let[a,i]=(0,t.useState)(!1),[n,l]=(0,t.useState)(!1),r=(0,t.useMemo)(()=>({hasSeenAuthMobileLandingToast:a,setHasSeenAuthMobileLandingToast:i,hasSeenAuthDesktopLandingToast:n,setHasSeenAuthDesktopLandingToast:l}),[a,i,n,l]);return(0,c.jsx)(m.Provider,{value:r,children:e})},v=(0,t.createContext)({key:"",data:null}),x=({children:e})=>{let a=(0,n.TH)(),i=(0,d.Z)(),m=i&&i.isAuth,x=(0,o.HG)(),h=(0,t.useRef)((0,r.fY)(a)&&(0,s.mB)(a.search).invite_code||null),I=(0,n.LX)(a.pathname,{path:"/pin/:id"}),w=I&&I.params.id||"",[P,T]=(0,t.useState)({key:"",data:null});return(0,t.useEffect)(()=>{(async function(){let e=h.current;if(e)try{let a=l.Z.create("InviteCodeMetadataResource",{invite_code:e}),t=(await a.callGet()).resource_response.data;if(t){let e=t.sender??null,a=m&&e.id!==i.id&&e?.should_show_messaging&&i.should_show_messaging;!m&&x?T({key:u,data:{inviter:e,popoverData:e&&![5,9,12,16].includes(t.invite_channel)?{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name}:null}}):a&&!x?T({key:p,data:{toastData:{inviter:{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name,inviterId:e.id},viewer:{viewerId:i.id||""},pin:{pinId:w}}}}):a&&x&&T({key:g,data:{toastData:{inviter:{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name,inviterId:e.id},viewer:{viewerId:i.id||""},pin:{pinId:w}}}})}else T({key:"",data:null})}catch{T({key:"",data:null})}})()},[m,x,i.id,w,i.should_show_messaging]),(0,c.jsx)(y,{children:(0,c.jsx)(v.Provider,{value:P,children:e})})},h=()=>{let e=(0,t.useContext)(v);return e.key===u?e:null},I=()=>{let e=(0,t.useContext)(v);return e.key===p?e:null},w=()=>{let e=(0,t.useContext)(v);return e.key===g?e:null},P=()=>(0,t.useContext)(m)}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/61873-dcf3e7ee1269aee7.mjs.map